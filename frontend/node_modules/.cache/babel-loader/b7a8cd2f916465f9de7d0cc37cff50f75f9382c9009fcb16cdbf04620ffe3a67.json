{"ast":null,"code":"import React,{useEffect,useState}from'react';import{connectSocket}from'./services/socket';import GameBoard from'./components/GameBoard';// Vérifie le chemin\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function App(){const[state,setState]=useState(null);const gameId=window.location.pathname.split('/').pop()||'demo';// Récupère gameId ici\nuseEffect(()=>{const socket=connectSocket(gameId);// Utilise gameId ici\nsocket.onmessage=e=>setState(JSON.parse(e.data));// Ajoute un nettoyage pour la socket si tu recharges souvent le composant\nreturn()=>socket.close();},[gameId]);// Déclenche l'effet si gameId change\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold mb-4\",children:\"Complot en ligne\"}),state?/*#__PURE__*/_jsx(GameBoard,{state:state,gameId:gameId}):/*#__PURE__*/_jsx(\"p\",{children:\"Chargement...\"}),\" \"]});}","map":{"version":3,"names":["React","useEffect","useState","connectSocket","GameBoard","jsx","_jsx","jsxs","_jsxs","App","state","setState","gameId","window","location","pathname","split","pop","socket","onmessage","e","JSON","parse","data","close","className","children"],"sources":["C:/Users/charl/complot/frontend/src/App.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { connectSocket } from './services/socket'\r\nimport GameBoard from './components/GameBoard' // Vérifie le chemin\r\n\r\nexport default function App() {\r\n  const [state, setState] = useState(null)\r\n  const gameId = window.location.pathname.split('/').pop() || 'demo' // Récupère gameId ici\r\n\r\n  useEffect(() => {\r\n    const socket = connectSocket(gameId) // Utilise gameId ici\r\n    socket.onmessage = e => setState(JSON.parse(e.data))\r\n    // Ajoute un nettoyage pour la socket si tu recharges souvent le composant\r\n    return () => socket.close();\r\n  }, [gameId]) // Déclenche l'effet si gameId change\r\n\r\n  return (\r\n    <div className=\"p-4\">\r\n      <h1 className=\"text-2xl font-bold mb-4\">Complot en ligne</h1>\r\n      {state ? <GameBoard state={state} gameId={gameId} /> : <p>Chargement...</p>} {/* PASSE gameId à GameBoard */}\r\n    </div>\r\n  )\r\n}"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,aAAa,KAAQ,mBAAmB,CACjD,MAAO,CAAAC,SAAS,KAAM,wBAAwB,CAAC;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/C,cAAe,SAAS,CAAAC,GAAGA,CAAA,CAAG,CAC5B,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGT,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAAAU,MAAM,CAAGC,MAAM,CAACC,QAAQ,CAACC,QAAQ,CAACC,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAAC,CAAC,EAAI,MAAM,CAAC;AAEnEhB,SAAS,CAAC,IAAM,CACd,KAAM,CAAAiB,MAAM,CAAGf,aAAa,CAACS,MAAM,CAAC,CAAC;AACrCM,MAAM,CAACC,SAAS,CAAGC,CAAC,EAAIT,QAAQ,CAACU,IAAI,CAACC,KAAK,CAACF,CAAC,CAACG,IAAI,CAAC,CAAC,CACpD;AACA,MAAO,IAAML,MAAM,CAACM,KAAK,CAAC,CAAC,CAC7B,CAAC,CAAE,CAACZ,MAAM,CAAC,CAAC,CAAC;AAEb,mBACEJ,KAAA,QAAKiB,SAAS,CAAC,KAAK,CAAAC,QAAA,eAClBpB,IAAA,OAAImB,SAAS,CAAC,yBAAyB,CAAAC,QAAA,CAAC,kBAAgB,CAAI,CAAC,CAC5DhB,KAAK,cAAGJ,IAAA,CAACF,SAAS,EAACM,KAAK,CAAEA,KAAM,CAACE,MAAM,CAAEA,MAAO,CAAE,CAAC,cAAGN,IAAA,MAAAoB,QAAA,CAAG,eAAa,CAAG,CAAC,CAAC,GAAC,EAC1E,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}